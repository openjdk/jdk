#Test Results (version 2)
#Mon Jul 21 17:49:39 CST 2025
#-----testdescription-----
$file=/hygonjdk/yansendao/git/jdk-ysd/test/hotspot/jtreg/runtime/Thread/TestThreadDumpMonitorContention.java
$root=/hygonjdk/yansendao/git/jdk-ysd/test/hotspot/jtreg
keywords=bug8036823 bug8046287 othervm
library=/test/lib
modules=java.base/jdk.internal.misc
run=USER_SPECIFIED main/othervm TestThreadDumpMonitorContention\n
source=TestThreadDumpMonitorContention.java
title=Creates two threads contending for the same lock and checks whether jstack reports "locked" by more than one thread.

#-----environment-----

#-----testresult-----
description=file\:/hygonjdk/yansendao/git/jdk-ysd/test/hotspot/jtreg/runtime/Thread/TestThreadDumpMonitorContention.java
elapsed=11333 0\:00\:11.333
end=Mon Jul 21 17\:49\:39 CST 2025
environment=regtest
execStatus=Passed. Execution successful
harnessLoaderMode=Classpath Loader
harnessVariety=Full Bundle
hostname=hygon
javatestOS=Linux 5.15.0-25-generic (amd64)
javatestVersion=6.0-ea+b24-2025-06-01-${BUILT_FROM_COMMIT}
jtregVersion=jtreg 7.5.2 dev 0
modules=java.base/jdk.internal.misc
script=com.sun.javatest.regtest.exec.RegressionScript
sections=script_messages build compile main
start=Mon Jul 21 17\:49\:27 CST 2025
test=runtime/Thread/TestThreadDumpMonitorContention.java
testJDK=/hygonjdk/yansendao/git/jdk-ysd/build/linux-x86_64-server-release/images/jdk
testJDK_OS=[name\:Linux,arch\:amd64,version\:5.15.0-25-generic,family\:linux,simple_arch\:x64,simple_version\:5.15,processors\:256,maxMemory\:810876829696,maxSwap\:8589930496]
testJDK_os.arch=amd64
testJDK_os.name=Linux
testJDK_os.version=5.15.0-25-generic
totalTime=11333
user.name=yansendao
work=/hygonjdk/yansendao/git/jdk-ysd/tmp/runtime/Thread

#section:script_messages
----------messages:(7/437)----------
JDK under test: /hygonjdk/yansendao/git/jdk-ysd/build/linux-x86_64-server-release/images/jdk
openjdk version "26-internal" 2026-03-17
OpenJDK Runtime Environment (build 26-internal-d83346dc)
OpenJDK 64-Bit Server VM (build 26-internal-d83346dc, mixed mode, sharing)
Library /test/lib; kind: packages
   source directory: /hygonjdk/yansendao/git/jdk-ysd/test/lib
   class directory: /hygonjdk/yansendao/git/jdk-ysd/tmp/classes/3/test/lib

#section:build
----------messages:(7/252)----------
command: build TestThreadDumpMonitorContention
reason: Named class compiled on demand
started: Mon Jul 21 17:49:27 CST 2025
Test directory:
  compile: TestThreadDumpMonitorContention
finished: Mon Jul 21 17:49:29 CST 2025
elapsed time (seconds): 1.687
result: Passed. Build successful

#section:compile
----------messages:(8/423)----------
command: compile /hygonjdk/yansendao/git/jdk-ysd/test/hotspot/jtreg/runtime/Thread/TestThreadDumpMonitorContention.java
reason: .class file out of date or does not exist
started: Mon Jul 21 17:49:27 CST 2025
Additional options from @modules: --add-modules java.base --add-exports java.base/jdk.internal.misc=ALL-UNNAMED
Mode: othervm
Process id: 2830875
finished: Mon Jul 21 17:49:29 CST 2025
elapsed time (seconds): 1.681
----------configuration:(9/533)----------
javac compilation environment
  add modules: java.base                   
  add exports: java.base/jdk.internal.misc ALL-UNNAMED
  source path: /hygonjdk/yansendao/git/jdk-ysd/test/hotspot/jtreg/runtime/Thread 
               /hygonjdk/yansendao/git/jdk-ysd/test/lib 
  class path:  /hygonjdk/yansendao/git/jdk-ysd/test/hotspot/jtreg/runtime/Thread 
               /hygonjdk/yansendao/git/jdk-ysd/tmp/classes/3/runtime/Thread/TestThreadDumpMonitorContention.d 
               /hygonjdk/yansendao/git/jdk-ysd/tmp/classes/3/test/lib 

----------rerun:(31/2086)*----------
cd /hygonjdk/yansendao/git/jdk-ysd/tmp/scratch/14 && \\
DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/999/bus \\
DISPLAY=:7 \\
HOME=/hygonjdk/yansendao \\
LANG=C.UTF-8 \\
PATH=/bin:/usr/bin:/usr/sbin \\
XDG_DATA_DIRS=/usr/local/share:/usr/share:/var/lib/snapd/desktop \\
XDG_RUNTIME_DIR=/run/user/999 \\
XDG_SESSION_CLASS=user \\
XDG_SESSION_ID=5681 \\
XDG_SESSION_TYPE=tty \\
    /hygonjdk/yansendao/git/jdk-ysd/build/linux-x86_64-server-release/images/jdk/bin/javac \\
        -J-Dtest.vm.opts= \\
        -J-Dtest.tool.vm.opts= \\
        -J-Dtest.compiler.opts= \\
        -J-Dtest.java.opts= \\
        -J-Dtest.jdk=/hygonjdk/yansendao/git/jdk-ysd/build/linux-x86_64-server-release/images/jdk \\
        -J-Dcompile.jdk=/hygonjdk/yansendao/git/jdk-ysd/build/linux-x86_64-server-release/images/jdk \\
        -J-Dtest.timeout.factor=1.0 \\
        -J-Dtest.nativepath=/hygonjdk/yansendao/git/jdk-ysd/build/linux-x86_64-server-release/images/test/hotspot/jtreg/native \\
        -J-Dtest.root=/hygonjdk/yansendao/git/jdk-ysd/test/hotspot/jtreg \\
        -J-Dtest.name=runtime/Thread/TestThreadDumpMonitorContention.java \\
        -J-Dtest.verbose=Verbose[p=BRIEF,f=FULL,e=FULL,t=false,m=false] \\
        -J-Dtest.file=/hygonjdk/yansendao/git/jdk-ysd/test/hotspot/jtreg/runtime/Thread/TestThreadDumpMonitorContention.java \\
        -J-Dtest.main.class=TestThreadDumpMonitorContention \\
        -J-Dtest.src=/hygonjdk/yansendao/git/jdk-ysd/test/hotspot/jtreg/runtime/Thread \\
        -J-Dtest.src.path=/hygonjdk/yansendao/git/jdk-ysd/test/hotspot/jtreg/runtime/Thread:/hygonjdk/yansendao/git/jdk-ysd/test/lib \\
        -J-Dtest.classes=/hygonjdk/yansendao/git/jdk-ysd/tmp/classes/3/runtime/Thread/TestThreadDumpMonitorContention.d \\
        -J-Dtest.class.path=/hygonjdk/yansendao/git/jdk-ysd/tmp/classes/3/runtime/Thread/TestThreadDumpMonitorContention.d:/hygonjdk/yansendao/git/jdk-ysd/tmp/classes/3/test/lib \\
        -J-Dtest.modules=java.base/jdk.internal.misc \\
        @/hygonjdk/yansendao/git/jdk-ysd/tmp/runtime/Thread/TestThreadDumpMonitorContention.d/compile.0.jta
----------System.out:(0/0)----------
----------System.err:(0/0)----------
result: Passed. Compilation successful

#section:main
----------messages:(8/401)----------
command: main TestThreadDumpMonitorContention
reason: User specified action: run main/othervm TestThreadDumpMonitorContention 
started: Mon Jul 21 17:49:29 CST 2025
Mode: othervm [/othervm specified]
Additional options from @modules: --add-modules java.base --add-exports java.base/jdk.internal.misc=ALL-UNNAMED
Process id: 2850903
finished: Mon Jul 21 17:49:39 CST 2025
elapsed time (seconds): 9.573
----------configuration:(4/111)----------
Boot Layer
  add modules: java.base                   
  add exports: java.base/jdk.internal.misc ALL-UNNAMED

----------System.out:(29/561)----------
Sample #0
Sample #1
Sample #2
Sample #3
Sample #4
Sample #5
Sample #6
Sample #7
Sample #8
Sample #9
Sample #10
Sample #11
Sample #12
Sample #13
Sample #14
INFO: Summary for all samples:
INFO: both_running_cnt=9
INFO: both_waiting_cnt=0
INFO: contended_cnt=1
INFO: one_waiting_cnt=0
INFO: uncontended_cnt=5
INFO: locked_hdr_runnable_cnt=6
INFO: locked_hdr_waiting1_cnt=0
INFO: locked_hdr_waiting2_cnt=0
INFO: locked_thr_state_blocked_cnt=0
INFO: locked_thr_state_runnable_cnt=6
INFO: waiting_hdr_waiting1_cnt=1
INFO: waiting_thr_state_blocked_cnt=1
Test PASSED.
----------System.err:(1/15)----------
STATUS:Passed.
----------rerun:(35/2705)*----------
cd /hygonjdk/yansendao/git/jdk-ysd/tmp/scratch/14 && \\
DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/999/bus \\
DISPLAY=:7 \\
HOME=/hygonjdk/yansendao \\
LANG=C.UTF-8 \\
PATH=/bin:/usr/bin:/usr/sbin \\
XDG_DATA_DIRS=/usr/local/share:/usr/share:/var/lib/snapd/desktop \\
XDG_RUNTIME_DIR=/run/user/999 \\
XDG_SESSION_CLASS=user \\
XDG_SESSION_ID=5681 \\
XDG_SESSION_TYPE=tty \\
CLASSPATH=/hygonjdk/yansendao/git/jdk-ysd/tmp/classes/3/runtime/Thread/TestThreadDumpMonitorContention.d:/hygonjdk/yansendao/git/jdk-ysd/test/hotspot/jtreg/runtime/Thread:/hygonjdk/yansendao/git/jdk-ysd/tmp/classes/3/test/lib:/hygonjdk/yansendao/git/jdk-ysd/test/lib:/hygonjdk/yansendao/software/jdk/jtreg-7.5/lib/javatest.jar:/hygonjdk/yansendao/software/jdk/jtreg-7.5/lib/jtreg.jar \\
    /hygonjdk/yansendao/git/jdk-ysd/build/linux-x86_64-server-release/images/jdk/bin/java \\
        -Dtest.vm.opts= \\
        -Dtest.tool.vm.opts= \\
        -Dtest.compiler.opts= \\
        -Dtest.java.opts= \\
        -Dtest.jdk=/hygonjdk/yansendao/git/jdk-ysd/build/linux-x86_64-server-release/images/jdk \\
        -Dcompile.jdk=/hygonjdk/yansendao/git/jdk-ysd/build/linux-x86_64-server-release/images/jdk \\
        -Dtest.timeout.factor=1.0 \\
        -Dtest.nativepath=/hygonjdk/yansendao/git/jdk-ysd/build/linux-x86_64-server-release/images/test/hotspot/jtreg/native \\
        -Dtest.root=/hygonjdk/yansendao/git/jdk-ysd/test/hotspot/jtreg \\
        -Dtest.name=runtime/Thread/TestThreadDumpMonitorContention.java \\
        -Dtest.verbose=Verbose[p=BRIEF,f=FULL,e=FULL,t=false,m=false] \\
        -Dtest.file=/hygonjdk/yansendao/git/jdk-ysd/test/hotspot/jtreg/runtime/Thread/TestThreadDumpMonitorContention.java \\
        -Dtest.main.class=TestThreadDumpMonitorContention \\
        -Dtest.src=/hygonjdk/yansendao/git/jdk-ysd/test/hotspot/jtreg/runtime/Thread \\
        -Dtest.src.path=/hygonjdk/yansendao/git/jdk-ysd/test/hotspot/jtreg/runtime/Thread:/hygonjdk/yansendao/git/jdk-ysd/test/lib \\
        -Dtest.classes=/hygonjdk/yansendao/git/jdk-ysd/tmp/classes/3/runtime/Thread/TestThreadDumpMonitorContention.d \\
        -Dtest.class.path=/hygonjdk/yansendao/git/jdk-ysd/tmp/classes/3/runtime/Thread/TestThreadDumpMonitorContention.d:/hygonjdk/yansendao/git/jdk-ysd/tmp/classes/3/test/lib \\
        -Dtest.modules=java.base/jdk.internal.misc \\
        --add-modules java.base \\
        --add-exports java.base/jdk.internal.misc=ALL-UNNAMED \\
        -Djava.library.path=/hygonjdk/yansendao/git/jdk-ysd/build/linux-x86_64-server-release/images/test/hotspot/jtreg/native \\
        com.sun.javatest.regtest.agent.MainWrapper /hygonjdk/yansendao/git/jdk-ysd/tmp/runtime/Thread/TestThreadDumpMonitorContention.d/main.1.jta
result: Passed. Execution successful


test result: Passed. Execution successful
